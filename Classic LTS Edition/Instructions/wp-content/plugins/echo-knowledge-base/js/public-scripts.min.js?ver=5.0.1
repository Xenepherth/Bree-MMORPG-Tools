var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,f,d){a instanceof String&&(a=String(a));for(var e=a.length,c=0;c<e;c++){var h=a[c];if(f.call(d,h,c,a))return{i:c,v:h}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,d){a!=Array.prototype&&a!=Object.prototype&&(a[f]=d.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,f,d,e){if(f){d=$jscomp.global;a=a.split(".");for(e=0;e<a.length-1;e++){var c=a[e];c in d||(d[c]={});d=d[c]}a=a[a.length-1];e=d[a];f=f(e);f!=e&&null!=f&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
jQuery(document).ready(function(a){function f(b){a(".epkb-panel-container .epkb-tab-panel:nth-child("+(b+1)+")").addClass("active")}function d(a,c){var b=window.location.href;var l=/([?&])top-category=.*?(&|$)/i,d=-1!==b.indexOf("?")?"&":"?";b=b.match(l)?b.replace(l,"$1top-category="+c+"$2"):b+d+"top-category="+c;window.history.pushState({tab:a},"title",b)}var e=a("#epkb-main-page-container"),c=a("#epkb-content-container"),h=a(".epkb-nav-tabs li"),n=a(".epkb-tab-panel"),p=a("#eckb-article-content-body"),
g=a(".eckb-article-toc");a("body").on("submit","#epkb_search_form",function(b){b.preventDefault();if(""!==a("#epkb_search_terms").val()){b={action:"epkb-search-kb",epkb_kb_id:a("#epkb_kb_id").val(),search_words:a("#epkb_search_terms").val()};var c="";a.ajax({type:"GET",dataType:"json",data:b,url:ajaxurl,beforeSend:function(b){a(".loading-spinner").css("display","block");a("#epkb-ajax-in-progress").show()}}).done(function(b){b=b?b:"";a(".loading-spinner").css("display","none");c=b.error||"success"!==
b.status?epkb_vars.msg_try_again:b.search_result}).fail(function(a,b,l){c=epkb_vars.msg_try_again+". ["+(l?l:epkb_vars.unknown_error)+"]"}).always(function(){a("#epkb-ajax-in-progress").hide();c&&(a("#epkb_search_results").css("display","block"),a("#epkb_search_results").html(c))})}});a("#epkb_search_terms").keyup(function(){this.value||a("#epkb_search_results").css("display","none")});a(window).on("load",function(){var b=0;c.find(h).each(function(){var c=a(this).outerHeight(!0);c>b&&(b=c)});c.find(h).css("min-height",
b)});window.onpopstate=function(b){b.state&&-1!==b.state.tab.indexOf("epkb_tab_")?(c.find(".epkb_top_panel").removeClass("active"),0<a("#main-category-selection").length?a("#main-category-selection").val(c.find("#"+b.state.tab).val()):(c.find(".epkb_top_categories").removeClass("active"),c.find("#"+b.state.tab).addClass("active")),c.find("."+b.state.tab).addClass("active")):0<a("#epkb_tab_1").length&&!c.find("#epkb_tab_1").hasClass("active")&&(c.find(".epkb_top_panel").removeClass("active"),0<a("#main-category-selection").length?
a("#main-category-selection").val(c.find("#epkb_tab_1").val()):(c.find(".epkb_top_categories").removeClass("active"),c.find("#epkb_tab_1").addClass("active")),c.find(".epkb_tab_1").addClass("active"))};c.find(h).each(function(){a(this).on("click",function(){c.find(h).removeClass("active");a(this).addClass("active");c.find(n).removeClass("active");f(a(this).index());d(a(this).attr("id"),a(this).data("cat-name"))})});a("#main-category-selection").change(function(){c.find(n).removeClass("active");a("#main-category-selection option:selected").each(function(){var b=
a(this).index();f(b);d(a(this).attr("id"),a(this).data("cat-name"))})});a(".epkb-section-body .epkb-category-level-2-3").each(function(){a(this).on("click",function(){a(this).parent().children("ul").toggleClass("active")})});c.find(".epkb-section-body .epkb-category-level-2-3").each(function(){var b=a(this).find("i");a(this).on("click",function(){function a(a){b.hasClass(a[0])?(b.removeClass(a[0]),b.addClass(a[1])):b.hasClass(a[1])&&(b.removeClass(a[1]),b.addClass(a[0]))}a(["ep_font_icon_plus","ep_font_icon_minus"]);
a(["ep_font_icon_plus_box","ep_font_icon_minus_box"]);a(["ep_font_icon_right_arrow","ep_font_icon_down_arrow"]);a(["ep_font_icon_arrow_carrot_right","ep_font_icon_arrow_carrot_down"]);a(["ep_font_icon_arrow_carrot_right_circle","ep_font_icon_arrow_carrot_down_circle"]);a(["ep_font_icon_folder_add","ep_font_icon_folder_open"])})});e.find(".epkb-show-all-articles").on("click",function(){a(this).toggleClass("active");var b=a(this).parent("ul").find("li");a(this).hasClass("active")?(a(this).find(".epkb-show-text").addClass("epkb-hide-elem"),
a(this).find(".epkb-hide-text").removeClass("epkb-hide-elem")):(a(this).find(".epkb-show-text").removeClass("epkb-hide-elem"),a(this).find(".epkb-hide-text").addClass("epkb-hide-elem"));a(b).each(function(){a(this).hasClass("epkb-hide-elem")?(a(this).removeClass("epkb-hide-elem"),a(this).addClass("visible")):a(this).hasClass("visible")&&(a(this).removeClass("visible"),a(this).addClass("epkb-hide-elem"))})});e=a("#epkb-search-kb").text();a("#epkb-search-kb").text(e);if(g.length){e=function(a){var b=
g.find(".eckb-article-toc__title").length?'\n\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t<div class="eckb-article-toc__title">'+g.find(".eckb-article-toc__title").html()+"</div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t":'\n\t\t\t\t\t<div class="eckb-article-toc__inner">\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t';a.forEach(function(a){b+='<li class="eckb-article-toc__level eckb-article-toc__level-'+a.level+'"><a href="#'+a.id+'">'+a.title+"</a></li>"});return b+="\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t"};
g.data("min")||g.data("min",1);g.data("offset")||g.data("offset",50);for(var k=g.data("min"),m="h"+k,q={scrollOffset:g.data("offset")};6>k;)k++,m+=", h"+k;k=function(){var b=[];p.find(m).each(function(){var c={};if(a(this).prop("id"))var d=a(this).prop("id");else d="articleTOC_"+b.length,a(this).prop("id",d);c.id=d;c.title=a(this).text();"H1"==a(this).prop("tagName")?c.level=1:"H2"==a(this).prop("tagName")?c.level=2:"H3"==a(this).prop("tagName")?c.level=3:"H4"==a(this).prop("tagName")?c.level=4:"H5"==
a(this).prop("tagName")?c.level=5:"H6"==a(this).prop("tagName")&&(c.level=6);b.push(c)});if(0==b.length)return b;var c=1,d=6;b.forEach(function(a){a.level>c&&(c=a.level);a.level<d&&(d=a.level)});1<d&&b.forEach(function(a,c){b[c].level=a.level-d+1});for(var e=1,f={};e<c;)f.$jscomp$loop$prop$levelExist$1=!1,b.forEach(function(a){return function(b){b.level==e&&(a.$jscomp$loop$prop$levelExist$1=!0)}}(f)),f.$jscomp$loop$prop$levelExist$1?e++:b.forEach(function(a,c){a.level>e&&(b[c].level=a.level-1)}),
e++,f={$jscomp$loop$prop$levelExist$1:f.$jscomp$loop$prop$levelExist$1};return b}();0<k.length&&(g.html(e(k)),p.find(m).scrollSpy(q),g.fadeIn())}});
